import java.awt.*;
import java.awt.event.*;
import javax.swing.*;
import javax.swing.tree.*;



import com.mysql.cj.xdevapi.JsonParser;

import java.sql.*;
import java.text.ParseException;
import java.util.*;

import java.io.InputStreamReader;
import java.net.HttpURLConnection;
import java.net.URL;
import java.net.URLEncoder;
import java.io.BufferedReader;
import java.io.IOException;
public class FriendList extends JFrame{
	JFrame frame;
	JPanel panel;
	JPanel panel1;
	JPanel panel2;
	JPanel panel3;
	JTree tree;
	Statement stmt = null;
	ResultSet rs = null;
	ResultSet rs2 = null;
	String url = "jdbc:mysql://localhost/users?serverTimezone=UTC&useSSL=false&&allowPublicKeyRetrieval=true&useSSL=false";
	String sql = null;
	String sql2 = null;
	Connection conn = null;
	weatherAPI api;
	DefaultMutableTreeNode root = new DefaultMutableTreeNode("친구목록");
	

	public void FriendListPanel(String id) throws IOException, ParseException {
		frame = new JFrame("WaitRoom");
		panel = new JPanel();
		panel1 =  new JPanel();
		panel2 = new JPanel();
		panel3 = new JPanel();
	
		String userName = null;
		String userNick = null;
		String userHome = null;
		ArrayList<Object> friendData = new ArrayList();
		try {
			Class.forName("com.mysql.cj.jdbc.Driver");
			String user = "root", passwd = "000110";
			conn = DriverManager.getConnection(url, user,passwd);
			stmt = conn.createStatement();
			sql = "select * from member where id = '" + id +  "'";
			rs = stmt.executeQuery(sql);
			while(rs.next()) {
				userName = rs.getString("name");
				userNick = rs.getString("nickname");
				userHome = rs.getString("home");
			}
			
			sql2 = "select * from member";
			rs2 = stmt.executeQuery(sql2);
			while(rs2.next()) {
				friendData.add(rs2.getString("name"));
			}
		}catch(Exception e) {
			System.out.println("Error");
			e.printStackTrace();
		}
		
		JLabel userNamePanel = new JLabel("Name :" + userName,JLabel.CENTER);
		panel1.add(userNamePanel);
		JLabel userNickPanel = new JLabel("Nickname :"+ userNick,JLabel.CENTER);
		panel1.add(userNickPanel);
		JLabel userHomePanel = new JLabel("Homepage :" + userHome, JLabel.CENTER);
		panel1.add(userHomePanel);
		
		api = new weatherAPI();
		JList l = new JList(api.printResult.split("\n"));
		panel3.add(l);
		
		JTree tree;
		DefaultMutableTreeNode root = new DefaultMutableTreeNode("친구목록");
		DefaultMutableTreeNode online = new DefaultMutableTreeNode("접속중인 친구");
		DefaultMutableTreeNode offline = new DefaultMutableTreeNode("비접속중인 친구");
		DefaultMutableTreeNode f1 = new DefaultMutableTreeNode("A");
		DefaultMutableTreeNode f2 = new DefaultMutableTreeNode("B");
		DefaultMutableTreeNode f3 = new DefaultMutableTreeNode("C");
		DefaultMutableTreeNode f4 = new DefaultMutableTreeNode("D");
  
		frame.add(panel,BorderLayout.NORTH);
		frame.add(panel1,BorderLayout.CENTER);
		frame.add(panel3,BorderLayout.SOUTH);
		frame.setBounds(450,250,800,500);
		frame.setResizable(false);
		frame.setVisible(true);
		
	}


	}
